import{n as l,A as c,a as o}from"./index.4f76038a.js";import{s as i,e as u,r as d,V as v,c as p}from"./vee-validate.esm.a8e11856.js";i("eager");u("required",{...d,message:"\u0647\u0630\u0627 \u0627\u0644\u062D\u0642\u0644 \u0645\u0637\u0644\u0648\u0628"});const f={components:{Applayout:c,ValidationProvider:v,ValidationObserver:p},name:"Currency",data:()=>({search:"",code:"",name:"",note:"",partName:"",currency:[],dialog:!1}),mounted(){this.getCurrency()},methods:{submit(){this.$refs.observer.validate().then(a=>{a&&(console.log("work"),this.$router.push("/currency"))})},async getCurrency(){await o.get("/currency").then(a=>{this.currency=a.data,console.log(this.currency)})},async postCurrency(){const a={code:this.code,name:this.name,note:this.note,partName:this.partName};console.log("formData",a),await o.post("/currency/create",a).then(e=>{console.log(e.data),this.$router.go()}).catch(e=>{console.log(e)})},Subcurrency(a){const e=this.$route.query.to||`/sub_currency/${a}`;this.$router.push(e)}}};var m=function(){var e=this,t=e._self._c;return t("Applayout",[t("v-container",[t("v-dialog",{attrs:{"max-width":"550px"},scopedSlots:e._u([{key:"activator",fn:function({on:r,attrs:n}){return[t("v-btn",e._g(e._b({staticClass:"ml-6",attrs:{color:"green darken-1",dark:""}},"v-btn",n,!1),r),[e._v(" \u0625\u0636\u0627\u0641\u0629 \u062C\u062F\u064A\u062F"),t("v-icon",[e._v("mdi-plus")])],1),t("v-btn",{attrs:{color:"green darken-1",dark:""}},[e._v(" \u0637\u0628\u0627\u0639\u0629"),t("v-icon",{staticClass:"mr-2"},[e._v("mdi-printer")])],1)]}}]),model:{value:e.dialog,callback:function(r){e.dialog=r},expression:"dialog"}},[t("v-card",{attrs:{dense:"",shaped:""}},[t("v-card-text",[t("v-card-title",{staticClass:"d-flex justify-center"},[e._v("\u0625\u0636\u0627\u0641\u0629 \u062C\u062F\u064A\u062F")]),t("v-container",[t("validation-observer",{ref:"observer",scopedSlots:e._u([{key:"default",fn:function({invalid:r}){return[t("v-form",{ref:"form",staticClass:"px-4",on:{submit:function(n){return n.preventDefault(),e.submit.apply(null,arguments)}}},[t("validation-provider",{attrs:{rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function({errors:n}){return[t("v-text-field",{attrs:{type:"string",label:"\u0627\u0644\u0643\u0648\u062F ","error-messages":n,outlined:"",color:"green darken-1",reverse:"",dense:"",shaped:""},model:{value:e.code,callback:function(s){e.code=s},expression:"code"}})]}}],null,!0)}),t("validation-provider",{attrs:{rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function({errors:n}){return[t("v-text-field",{attrs:{type:"string",label:"\u0627\u0644\u0627\u0633\u0645","error-messages":n,outlined:"",color:"green darken-1",reverse:"",dense:"",shaped:""},model:{value:e.name,callback:function(s){e.name=s},expression:"name"}})]}}],null,!0)}),t("v-text-field",{attrs:{type:"string",label:"\u0645\u0644\u0627\u062D\u0638\u0629",outlined:"",color:"green darken-1",reverse:"",dense:"",shaped:""},model:{value:e.note,callback:function(n){e.note=n},expression:"note"}}),t("validation-provider",{attrs:{rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function({errors:n}){return[t("v-text-field",{attrs:{type:"string",label:"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0627\u062E\u064A\u0631 ","error-messages":n,outlined:"",color:"green darken-1",reverse:"",dense:"",shaped:""},model:{value:e.partName,callback:function(s){e.partName=s},expression:"partName"}})]}}],null,!0)}),t("div",{staticClass:"text-center mt-2"},[t("v-btn",{staticClass:"mt-1 text-h6 white--text",attrs:{color:"green darken-1",type:"submit",disabled:r},on:{click:e.postCurrency}},[e._v("\u0625\u0636\u0627\u0641\u0629")])],1)],1)]}}])})],1)],1)],1)],1),t("v-simple-table",{staticClass:"mt-5",scopedSlots:e._u([{key:"default",fn:function(){return[t("thead",{},[t("tr",[t("th",[e._v("\u0627\u0644\u0643\u0648\u062F")]),t("th",[e._v("\u0627\u0644\u0627\u0633\u0645")]),t("th",[e._v("\u0645\u0644\u0627\u062D\u0638\u0629")]),t("th",[e._v("\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0627\u062E\u064A\u0631")])])]),t("tbody",e._l(e.currency,function(r){return t("tr",{key:r.name},[t("td",[e._v(e._s(r.code))]),t("td",[e._v(e._s(r.name))]),t("td",[e._v(e._s(r.note))]),t("td",[e._v(e._s(r.partName))]),t("td",[t("v-btn",{attrs:{icon:""},on:{click:function(n){return e.Subcurrency(r._id)}}},[t("v-icon",[e._v("mdi-eye")])],1)],1)])}),0)]},proxy:!0}])})],1)],1)},_=[],y=l(f,m,_,!1,null,null,null,null);const b=y.exports;export{b as default};
