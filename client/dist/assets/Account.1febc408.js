import{n as a,A as l,a as s}from"./index.4f76038a.js";import{s as u,e as i,r as d,V as v,c as p}from"./vee-validate.esm.a8e11856.js";u("eager");i("required",{...d,message:"\u0647\u0630\u0627 \u0627\u0644\u062D\u0642\u0644 \u0645\u0637\u0644\u0648\u0628"});const _={components:{Applayout:l,ValidationProvider:v,ValidationObserver:p},name:"Account",data:()=>({currency:[],currencyItem:{},accountType:["\u062F\u0627\u0626\u0646","\u0645\u062F\u064A\u0646"],code:"",name:"",type:"",parent:"",credit:"",debit:"",description:"",currencyId:"",account:[],user:""}),mounted(){this.getAccount(),this.getCurrency()},methods:{submit(){this.$refs.observer.validate().then(r=>{r||console.log("work")})},async getCurrency(){await s.get("/currency").then(r=>{this.currency=r.data,console.log("cu",this.currency),console.log("cu",this.currencyId)}).catch(r=>{console.log(r)})},async getAccount(){await s.get("/account").then(r=>{this.account=r.data,console.log(this.account,"account")}).catch(r=>{console.log(r)})},async getUser(r){console.log(r),await s.get(`/user/${r}`).then(e=>{this.user=e.data.username,console.log(this.users,"us")}).catch(e=>{console.log(e)})},async postAccount(){const r={code:this.code,name:this.name,type:this.type,credit:this.credit,description:this.description,debit:this.debit,currencyId:this.currencyItem};await s.post("/account/create",r).then(e=>{console.log(e.data),this.$router.go()}).catch(e=>{console.log(e)})},subAccount(r){const e=this.$route.query.to||`/sub_account/${r}`;this.$router.push(e)},checkSelected(){console.log(this.currencyItem)}}};var h=function(){var e=this,t=e._self._c;return t("Applayout",[t("v-container",[t("v-dialog",{attrs:{"max-width":"550px"},scopedSlots:e._u([{key:"activator",fn:function({on:n,attrs:o}){return[t("v-btn",e._g(e._b({staticClass:"ml-6",attrs:{color:"green darken-1",dark:""}},"v-btn",o,!1),n),[e._v(" \u0625\u0636\u0627\u0641\u0629 \u062C\u062F\u064A\u062F"),t("v-icon",[e._v("mdi-plus")])],1),t("v-btn",{attrs:{color:"green darken-1",dark:""}},[e._v(" \u0637\u0628\u0627\u0639\u0629"),t("v-icon",{staticClass:"mr-2"},[e._v("mdi-printer")])],1)]}}]),model:{value:e.dialog,callback:function(n){e.dialog=n},expression:"dialog"}},[t("v-card",{attrs:{dense:"",shaped:""}},[t("v-card-title",{staticClass:"d-flex justify-center"},[e._v(" \u0625\u0636\u0627\u0641\u0629 \u062C\u062F\u064A\u062F")]),t("v-card-text",{attrs:{dir:"ltr"}},[t("v-container",[t("validation-observer",{ref:"observer",scopedSlots:e._u([{key:"default",fn:function({invalid:n}){return[t("v-form",{ref:"form",staticClass:"px-4",on:{submit:function(o){return o.preventDefault(),e.submit.apply(null,arguments)}}},[t("validation-provider",{attrs:{rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function({errors:o}){return[t("v-text-field",{attrs:{label:"\u0631\u0645\u0632 \u0627\u0644\u062D\u0633\u0627\u0628","error-messages":o,outlined:"",color:"green darken-1",reverse:"",dense:"",shaped:""},model:{value:e.code,callback:function(c){e.code=c},expression:"code"}})]}}],null,!0)}),t("validation-provider",{attrs:{rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function({errors:o}){return[t("v-text-field",{attrs:{label:"\u0627\u0633\u0645 \u0627\u0644\u062D\u0633\u0627\u0628","error-messages":o,outlined:"",color:"green darken-1",reverse:"",dense:"",shaped:""},model:{value:e.name,callback:function(c){e.name=c},expression:"name"}})]}}],null,!0)}),t("validation-provider",{attrs:{rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function({errors:o}){return[t("v-autocomplete",{ref:"country",attrs:{items:e.accountType,label:"\u0646\u0648\u0639 \u0627\u0644\u062D\u0633\u0627\u0628",placeholder:"\u0627\u062E\u062A\u0627\u0631...","error-messages":o,outlined:"",color:"green darken-1",reverse:"",dense:"",shaped:""},model:{value:e.type,callback:function(c){e.type=c},expression:"type"}})]}}],null,!0)}),t("v-textarea",{attrs:{label:"\u0627\u0644\u0648\u0635\u0641",outlined:"",color:"green darken-1",reverse:"",dense:"",shaped:""},model:{value:e.description,callback:function(o){e.description=o},expression:"description"}}),t("validation-provider",{attrs:{rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function({errors:o}){return[t("v-autocomplete",{ref:"country",attrs:{items:e.currency,"error-messages":o,"item-text":"name","item-value":"name",label:"\u0627\u0644\u0639\u0645\u0644\u0629",placeholder:"\u0627\u062E\u062A\u0627\u0631",outlined:"",color:"green darken-1",reverse:"",dense:"",shaped:""},on:{change:e.checkSelected},model:{value:e.currencyItem,callback:function(c){e.currencyItem=c},expression:"currencyItem"}})]}}],null,!0)}),t("div",{staticClass:"text-center mt-2"},[t("v-btn",{staticClass:"mt-3 text-h6 white--text",attrs:{color:"green darken-1",type:"submite",disabled:n},on:{click:e.postAccount}},[e._v("\u0625\u0636\u0627\u0641\u0629")])],1)],1)]}}])})],1)],1)],1)],1),t("v-container",[t("v-simple-table",{staticClass:"mt-5",scopedSlots:e._u([{key:"default",fn:function(){return[t("thead",[t("tr",[t("th",[e._v("\u0631\u0645\u0632 \u0627\u0644\u062D\u0633\u0627\u0628")]),t("th",[e._v("\u0627\u0633\u0645 \u0627\u0644\u062D\u0633\u0627\u0628")]),t("th",[e._v("\u0646\u0648\u0639 \u0627\u0644\u062D\u0633\u0627\u0628")]),t("th",[e._v("\u0627\u0644\u062D\u0633\u0627\u0628 \u0627\u0644\u0627\u0628")]),t("th",[e._v(" \u062F\u0627\u0626\u0646")]),t("th",[e._v(" \u0645\u062F\u064A\u0646")]),t("th",[e._v(" \u0627\u0644\u0648\u0635\u0641")]),t("th",[e._v(" \u0627\u0644\u0639\u0645\u0644\u0629")])])]),t("tbody",e._l(e.account,function(n){return t("tr",{key:n.name},[t("td",[e._v(e._s(n.code))]),t("td",[e._v(e._s(n.name))]),t("td",[e._v(e._s(n.type))]),t("td",[e._v(e._s(n.parent))]),t("td",[e._v(e._s(n.credit))]),t("td",[e._v(e._s(n.debit))]),t("td",[e._v(e._s(n.description))]),t("td",[e._v(e._s(n.currencyId))]),t("td",[t("v-btn",{attrs:{icon:""},on:{click:function(o){return e.subAccount(n._id)}}},[t("v-icon",[e._v("mdi-eye")])],1)],1)])}),0)]},proxy:!0}])})],1)],1)],1)},m=[],f=a(_,h,m,!1,null,null,null,null);const b=f.exports;export{b as default};
